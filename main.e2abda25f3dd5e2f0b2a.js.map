{"version":3,"sources":["webpack:///./templates/card.hbs","webpack:///./scripts/apiService.js","webpack:///./scripts/loadMore.js","webpack:///./scripts/displayResults.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","API_KEY","getImages","query","page","url","fetch","then","res","json","catch","console","log","appendImages","searchForm","textContent","nextPage","parseInt","gallery","childElementCount","images","createHtml","hits","forEach","li","appendChild","createLoadMoreBtn","document","getElementById","btnWrap","createElement","className","btn","id","append","after","addEventListener","querySelector","$list","image","$li","innerHTML","searchTemplate","push","$loadMoreBtn","remove","target","value","length","debounce"],"mappings":"uGAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAkCC,EAAOX,EAAUY,iBAAkBC,EAAiBb,EAAUa,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,aACHJ,EARuH,mBAQ9GN,EAAqI,OAA3HA,EAASQ,EAAeX,EAAQ,mBAA+B,MAAVD,EAAiBY,EAAeZ,EAAO,iBAAmBA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,gBAAgB,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC1U,wEACAM,EAVuH,mBAU9GN,EAAmI,OAAzHA,EAASQ,EAAeX,EAAQ,kBAA8B,MAAVD,EAAiBY,EAAeZ,EAAO,gBAAkBA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACxU,oDACJ,SAAU,K,wcCfZ,IAAMe,EAAU,qCAET,SAAeC,EAAtB,oC,iDAAO,WAAyBC,EAAOC,GAAhC,sGAAgCA,MAAK,GAClCC,EADH,sEAC+EF,EAD/E,SAC6FC,EAD7F,oBAC8HH,EAD9H,SAEUK,MAAMD,GAAKE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQC,MAAMC,QAAQC,KAF3D,oF,2VCCQC,I,gFAAf,8GACUV,EAAQW,EAAWC,YACnBC,EAAWC,SAASC,EAAQC,mBAAqB,EAF3D,SAGyBjB,EAAUC,EAAOa,GAH1C,UAGUI,EAHV,wDAOiBC,EAAWD,EAAOE,MAC1BC,SAAQ,SAAAC,GAAE,OAAIN,EAAQO,YAAYD,MAR3C,4C,sBAWe,SAASE,IAEpB,IAAGC,SAASC,eAAe,aAA3B,CAEA,IAAMC,EAAUF,SAASG,cAAc,OACvCD,EAAQE,UAAY,4BACpB,IAAMC,EAAML,SAASG,cAAc,UACnCE,EAAIjB,YAAc,YAClBiB,EAAIC,GAAK,YACTD,EAAID,UAAY,kBAChBF,EAAQK,OAAOF,GACfd,EAAQiB,MAAMN,GAEdG,EAAII,iBAAiB,QAASvB,I,4TCvB3B,IAAMC,EAAaa,SAASC,eAAe,eACrCV,EAAUS,SAASU,cAAc,eAIvC,SAAShB,EAAYD,GACxB,IAAIkB,EAAQ,GAOZ,OANAlB,EAAOG,SAAQ,SAAAgB,GACX,IAAMC,EAAMb,SAASG,cAAc,UACnCU,EAAIT,UAAY,qBAChBS,EAAIC,UAAYC,IAAeH,GAC/BD,EAAMK,KAAKH,MAERF,E,iDAEJ,WAA8BrD,GAA9B,iGACO2D,EAAejB,SAASC,eAAe,eAC5BgB,EAAaC,SAC9B3B,EAAQuB,UAAY,GACdtC,EAAQlB,EAAK6D,OAAOC,MAJ3B,SAKsB7C,EAAUC,GALhC,QAKOiB,EALP,QAOWE,KAAK0B,OAAS,IACN3B,EAAWD,EAAOE,MAC1BC,SAAQ,SAAAC,GAAE,OAAIN,EAAQO,YAAYD,MACxCE,KAVL,4C,sBCfPZ,EAAWsB,iBAAiB,QAASa,GDe9B,SAAP,oCCf6D,Q","file":"main.e2abda25f3dd5e2f0b2a.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n<a href=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":8},\"end\":{\"line\":2,\"column\":25}}}) : helper)))\n    + \" data-size=`${imageWidth}x${imageHeight}`>\\n  <img alt=\\\"picture\\\" src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":25},\"end\":{\"line\":3,\"column\":41}}}) : helper)))\n    + \"  class=\\\"img-fluid\\\" />\\n</a>\\n\\n              \\n\";\n},\"useData\":true});","const API_KEY = \"18780193-436169229a2154530dbda7607\"\nexport const PER_PAGE = 12;\nexport async function getImages(query, page=1) {\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`;\n    return await fetch(url).then(res => res.json()).catch(console.log);\n} \n\n","import { getImages } from './apiService'\nimport { createHtml, gallery, searchForm } from './displayResults'\n\nasync function appendImages () {\n    const query = searchForm.textContent\n    const nextPage = parseInt(gallery.childElementCount) + 1\n    const images = await getImages(query, nextPage)\n\n    if(!images) return\n\n    const list = createHtml(images.hits)\n    list.forEach(li => gallery.appendChild(li))\n}\n\nexport default function createLoadMoreBtn () {\n\n    if(document.getElementById(\"load-more\")) return\n    \n    const btnWrap = document.createElement('div')\n    btnWrap.className = \"col-md-12  load-more-wrap\"\n    const btn = document.createElement('button')\n    btn.textContent = \"Load more\"\n    btn.id = 'load-more'\n    btn.className = \"btn btn-success\"\n    btnWrap.append(btn)\n    gallery.after(btnWrap) \n    //add listener\n    btn.addEventListener(\"click\", appendImages)\n}","import searchTemplate from '../templates/card.hbs';\nimport { getImages } from './apiService'\nimport createLoadMoreBtn  from './loadMore'\n\nexport const searchForm = document.getElementById(\"search-form\")\nexport const gallery = document.querySelector(\"div.gallery\")\n\n\n\nexport function createHtml (images) {\n    let $list = [];\n    images.forEach(image => {\n        const $li = document.createElement(\"figure\")\n        $li.className = \"col-md-4 image-box\"\n        $li.innerHTML = searchTemplate(image);\n        $list.push($li)\n      })\n    return $list\n}\nexport async function displayImages (data) {\n        const $loadMoreBtn = document.getElementById(\"load-more\")\n        if($loadMoreBtn) $loadMoreBtn.remove()\n        gallery.innerHTML = \"\"\n        const query = data.target.value\n        const images = await getImages(query)\n        \n        if(images.hits.length > 0) {\n            const $list = createHtml(images.hits)\n            $list.forEach(li => gallery.appendChild(li))\n            createLoadMoreBtn()\n        }\n}\n\n","import './styles.scss';\nimport * as debounce from 'lodash.debounce'\nimport { searchForm, displayImages} from './scripts/displayResults.js'\n\nsearchForm.addEventListener(\"input\", debounce(displayImages, 500))\n"],"sourceRoot":""}